{power:function(x,y,z,l,a,s){var g=getTile(x,y,z);if(a&&g==hs_l1){Hs.repower(x,y,z,s)}else if(g==hs_w0||g==hs_w1){setTile(x,y,z,(a?hs_w1:hs_w0));l--;if(l>0){if(s!=0)Hs.power(x-1,y,z,l,a,1);if(s!=1)Hs.power(x+1,y,z,l,a,0);if(s!=4)Hs.power(x,y-1,z,l,a,5);if(s!=5)Hs.power(x,y+1,z,l,a,4);if(s!=2)Hs.power(x,y,z-1,l,a,3);if(s!=3)Hs.power(x,y,z+1,l,a,2)}}else if(g==ps){Hs.pis(x,y,z,a,false,s)}else if(g==sps){Hs.pis(x,y,z,a,true,s)}else if(g==179){if(a){setTile(x,y+1,z,8)}else{setTile(x,y+1,z,0)}}else if(g==87&&!a){setTile(x,y,z,75);setTile(x,y+1,z,0)}else if(g==75&&a){setTile(x,y,z,87);setTile(x,y+1,z,51)}else if(g==hs_l0&&a){setTile(x,y,z,hs_l1)}else if(g==hs_l1&&!a){setTile(x,y,z,hs_l0)}else if(g==113&&a){fxmusic()}else if(g==123&&a){setTile(x,y,z,124)}else if(g==46){setTile(x,y,z,0);Level.spawnMob(x+0.5,y+0.5,z+0.5,65);}else if(g==86&&a){Hs.fsi(x+0.5,y+0.5,z+0.5)}else if(g==124&&!a){setTile(x,y,z,123)}else if(g==hs_rp){Hs.rep(x,y,z,a,s)}else if(g==hs_rt){Hs.rep(x,y,z,(a?false:true),s)}else if(g==hs_fs&&a){Hs.fsa(x+0.5,y+0.5,z+0.5)}else if(g==64||g==71){Hs.door(x,y-1,z,a);Hs.door(x,y,z,a);if(getTile(x,y+1,z)!=96)Hs.door(x,y+1,z,a)}else if(g==96){Hs.door(x,y,z,a)}},repower:function(x,y,z,s){ctx.runOnUiThread(new java.lang.Runnable({run: function(){new android.os.Handler().postDelayed(new java.lang.Runnable({run: function(){Hs.power1(x,y,z,true)}}),10)}}))},power1:function(x,y,z,a){Hs.power(x-1,y,z,15,a,1);Hs.power(x+1,y,z,15,a,0);Hs.power(x,y-1,z,15,a,5);Hs.power(x,y+1,z,15,a,4);Hs.power(x,y,z-1,15,a,3);Hs.power(x,y,z+1,15,a,2);},pis:function(x,y,z,a,st,s){var d=Level.getData(x,y,z);if(a&&s!=d){if(d==0){for(var i=1;i<15;i++){if(getTile(x-i,y,z)==0||getTile(x-i,y,z)==8||getTile(x-i,y,z)==9||getTile(x-i,y,z)==10||getTile(x-i,y,z)==11){for(var j=i;j>1;j--){setTile(x-j,y,z,getTile(x-j+1,y,z),Level.getData(x-j+1,y,z))}setTile(x-1,y,z,pse);break}}}else if(d==1){for(var i=1;i<15;i++){if(getTile(x+i,y,z)==0||getTile(x+i,y,z)==8||getTile(x+i,y,z)==9||getTile(x+i,y,z)==10||getTile(x+i,y,z)==11){for(var j=i;j>1;j--){setTile(x+j,y,z,getTile(x+j-1,y,z),Level.getData(x+j-1,y,z))};setTile(x+1,y,z,pse);break}}}else if(d==2){for(var i=1;i<15;i++){if(getTile(x,y,z-i)==0||getTile(x,y,z-i)==8||getTile(x,y,z-i)==9||getTile(x,y,z-i)==10||getTile(x,y,z-i)==11){for(var j=i;j>1;j--){setTile(x,y,z-j,getTile(x,y,z-j+1),Level.getData(x,y,z-j+1))};setTile(x,y,z-1,pse);break}}}else if(d==3){for(var i=1;i<15;i++){if(getTile(x,y,z+i)==0||getTile(x,y,z+i)==8||getTile(x,y,z+i)==9||getTile(x,y,z+i)==10||getTile(x,y,z+i)==11){for(var j=i;j>1;j--){setTile(x,y,z+j,getTile(x,y,z+j-1),Level.getData(x,y,z+j-1))}setTile(x,y,z+1,pse);break}}}}else if(!st){if(d==0){setTile(x-1,y,z,0)}else if(d==1){setTile(x+1,y,z,0)}else if(d==2){setTile(x,y,z-1,0)}else if(d==3){setTile(x,y,z+1,0)}}else{if(d==0){setTile(x-1,y,z,getTile(x-2,y,z));setTile(x-2,y,z,0)}else if(d==1){setTile(x+1,y,z,getTile(x+2,y,z));setTile(x+2,y,z,0)}else if(d==2){setTile(x,y,z-1,getTile(x,y,z-2));setTile(x,y,z-2,0)}else if(d==3){setTile(x,y,z+1,getTile(x,y,z+2));setTile(x,y,z+2,0)}}},rep:function(x,y,z,a,s){var d=Level.getData(x,y,z);if(s!=d){ctx.runOnUiThread(new java.lang.Runnable({run: function(){new android.os.Handler().postDelayed(new java.lang.Runnable({run: function(){if(d==0){Hs.power(x-1,y,z,15,a,1)}else if(d==1){Hs.power(x+1,y,z,15,a,0)}else if(d==2){Hs.power(x,y,z-1,15,a,3)}else if(d==3){Hs.power(x,y,z+1,15,a,2)}}}),250)}}))}else if(Hs.checkrp(x,y,z,s)){if(d==0){Hs.power(x-1,y,z,15,true,1)}else if(d==1){Hs.power(x+1,y,z,15,true,0)}else if(d==2){Hs.power(x,y,z-1,15,true,3)}else if(d==3){Hs.power(x,y,z+1,15,true,2)}}},checkrp:function(x,y,z,s){if(((getTile(x-1,y,z)==hs_w1||getTile(x-1,y,z)==hs_l1)&&s!=0)||((getTile(x+1,y,z)==hs_w1||getTile(x+1,y,z)==hs_l1)&&s!=1)||((getTile(x,y-1,z)==hs_w1||getTile(x,y-1,z)==hs_l1)&&s!=4)||((getTile(x,y+1,z)==hs_w1||getTile(x,y+1,z)==hs_l1)&&s!=5)||((getTile(x,y,z-1)==hs_w1||getTile(x,y,z-1)==hs_l1)&&s!=2)||((getTile(x,y,z+1)==hs_w1||getTile(x,y,z+1)==hs_l1)&&s!=3)){return getTile(x,y,z)==hs_rp?true:false}else{return getTile(x,y,z)==hs_rp?false:true}},fsa:function(x,y,z){var d=Level.getData(x,y,z);if(d==4){var m=Level.spawnMob(x-1,y,z,80);setVelX(m,Math.random()-2.5)}else if(d==5){var m=Level.spawnMob(x+1,y,z,80);setVelX(m,2.5-Math.random())}else if(d==2){var m=Level.spawnMob(x,y,z-1,80);setVelZ(m,Math.random()-2.5);}else if(d==3){var m=Level.spawnMob(x,y,z+1,80);setVelZ(m,2.5-Math.random())}},clickbtn:function(x,y,z){Hs.power1(x,y,z,true);ctx.runOnUiThread(new java.lang.Runnable({run: function(){new android.os.Handler().postDelayed(new java.lang.Runnable({run:function(){Hs.power1(x,y,z,false)}}),hs_btntime)}}))},door:function(x,y,z,a){var g=getTile(x,y,z);if(g==64||g==71||g==96){var d=Level.getData(x,y,z);if(d<4&&a){d+=4}else if(d>3&&d<8&&!a){d-=4};if(d<8)setTile(x,y,z,g,d)}},fx_mob:function(x,y,z,mob){var d=Level.getData(x,y,z);if(d==1){var m=Level.spawnMob(x-1,y,z,mob);setVelX(m,Math.random()-2.5)}else if(d==0){var m=Level.spawnMob(x,y,z+1,mob);setVelZ(m,2.5-Math.random())}else if(d==2){var m=Level.spawnMob(x,y,z-1,mob);setVelZ(m,Math.random()-2.5)}else if(d==3){var m=Level.spawnMob(x+1,y,z,mob);setVelX(m,2.5-Math.random())}},fsi: function(x,y,z){var d=Level.getData(x,y,z);if(d==1){Level.spawnMob(x-1,y,z,65)}else if(d==3){Level.spawnMob(x+1,y,z,65)}else if(d==2){Level.spawnMob(x,y,z-1,65)}else if(d==0){Level.spawnMob(x,y,z+1,65)}}}
END
尽量不要随意修改,这是红石模组程序